ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules,a=function(e){var t="[_:a-zA-ZÀ-￿][-_:.a-zA-Z0-9À-￿]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===a&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(o.prototype),r.inherits(a,o),t.XmlHighlightRules=a})),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";function r(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}var o=e("../../lib/oop"),a=e("../behaviour").Behaviour,i=e("../../token_iterator").TokenIterator,l=(e("../../lib/lang"),function(){this.add("string_dquotes","insertion",(function(e,t,n,o,a){var l,u,s,g,c,m,d;if('"'==a||"'"==a){if(l=a,""!==(u=o.doc.getTextRange(n.getSelectionRange()))&&"'"!==u&&'"'!=u&&n.getWrapBehavioursEnabled())return{text:l+u+l,selection:!1};if(s=n.getCursorPosition(),g=o.doc.getLine(s.row).substring(s.column,s.column+1),m=(c=new i(o,s.row,s.column)).getCurrentToken(),g==l&&(r(m,"attribute-value")||r(m,"string")))return{text:"",selection:[1,1]};if(m||(m=c.stepBackward()),!m)return;for(;r(m,"tag-whitespace")||r(m,"whitespace");)m=c.stepBackward();if(d=!g||g.match(/\s/),r(m,"attribute-equals")&&(d||">"==g)||r(m,"decl-attribute-equals")&&(d||"?"==g))return{text:l+l,selection:[1,1]}}})),this.add("string_dquotes","deletion",(function(e,t,n,r,o){var a=r.doc.getTextRange(o);if(!o.isMultiLine()&&('"'==a||"'"==a)&&r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)==a)return o.end.column++,o})),this.add("autoclosing","insertion",(function(e,t,n,o,a){var l,u,s,g,c,m,d,x;if(">"==a){if(l=n.getSelectionRange().start,!(s=(u=new i(o,l.row,l.column)).getCurrentToken()||u.stepBackward())||!(r(s,"tag-name")||r(s,"tag-whitespace")||r(s,"attribute-name")||r(s,"attribute-equals")||r(s,"attribute-value")))return;if(r(s,"reference.attribute-value"))return;if(r(s,"attribute-value")){if(g=u.getCurrentTokenColumn()+s.value.length,l.column<g)return;if(l.column==g){if((c=u.stepForward())&&r(c,"attribute-value"))return;u.stepBackward()}}if(/^\s*>/.test(o.getLine(l.row).slice(l.column)))return;for(;!r(s,"tag-name");)if("<"==(s=u.stepBackward()).value){s=u.stepForward();break}if(m=u.getCurrentTokenRow(),d=u.getCurrentTokenColumn(),r(u.stepBackward(),"end-tag-open"))return;if(x=s.value,m==l.row&&(x=x.substring(0,l.column-d)),this.voidElements.hasOwnProperty(x.toLowerCase()))return;return{text:"></"+x+">",selection:[1,1]}}})),this.add("autoindent","insertion",(function(e,t,n,r,o){var a,l,u,s,g,c,m,d,x;if("\n"==o&&(a=n.getCursorPosition(),l=r.getLine(a.row),(s=(u=new i(r,a.row,a.column)).getCurrentToken())&&-1!==s.type.indexOf("tag-close"))){if("/>"==s.value)return;for(;s&&-1===s.type.indexOf("tag-name");)s=u.stepBackward();if(!s)return;if(g=s.value,c=u.getCurrentTokenRow(),!(s=u.stepBackward())||-1!==s.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[g])return m=r.getTokenAt(a.row,a.column+1),l=r.getLine(c),x=(d=this.$getIndent(l))+r.getTabString(),m&&"</"===m.value?{text:"\n"+x+"\n"+d,selection:[1,x.length,1,x.length]}:{text:"\n"+x}}}))});o.inherits(l,a),t.XmlBehaviour=l})),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],(function(e,t,n){"use strict";function r(e,t){return e.type.lastIndexOf(t+".xml")>-1}var o,a=e("../../lib/oop"),i=(e("../../lib/lang"),e("../../range").Range),l=e("./fold_mode").FoldMode,u=e("../../token_iterator").TokenIterator,s=t.FoldMode=function(e,t){l.call(this),this.voidElements=e||{},this.optionalEndTags=a.mixin({},this.voidElements),t&&a.mixin(this.optionalEndTags,t)};a.inherits(s,l),o=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}},function(){this.getFoldWidget=function(e,t,n){var r=this._getFirstTagInLine(e,n);return r?r.closing||!r.tagName&&r.selfClosing?"markbeginend"==t?"end":"":!r.tagName||r.selfClosing||this.voidElements.hasOwnProperty(r.tagName.toLowerCase())||this._findEndTagInLine(e,n,r.tagName,r.end.column)?"":"start":this.getCommentFoldWidget(e,n)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?"start":""},this._getFirstTagInLine=function(e,t){var n,a,i=e.getTokens(t),l=new o;for(n=0;n<i.length;n++){if(r(a=i[n],"tag-open")){if(l.end.column=l.start.column+a.value.length,l.closing=r(a,"end-tag-open"),!(a=i[++n]))return null;for(l.tagName=a.value,l.end.column+=a.value.length,n++;n<i.length;n++)if(a=i[n],l.end.column+=a.value.length,r(a,"tag-close")){l.selfClosing="/>"==a.value;break}return l}if(r(a,"tag-close"))return l.selfClosing="/>"==a.value,l;l.start.column+=a.value.length}return null},this._findEndTagInLine=function(e,t,n,o){var a,i,l=e.getTokens(t),u=0;for(a=0;a<l.length;a++)if(!((u+=(i=l[a]).value.length)<o)&&r(i,"end-tag-open")&&(i=l[a+1])&&i.value==n)return!0;return!1},this._readTagForward=function(e){var t,n=e.getCurrentToken();if(!n)return null;t=new o;do{if(r(n,"tag-open"))t.closing=r(n,"end-tag-open"),t.start.row=e.getCurrentTokenRow(),t.start.column=e.getCurrentTokenColumn();else if(r(n,"tag-name"))t.tagName=n.value;else if(r(n,"tag-close"))return t.selfClosing="/>"==n.value,t.end.row=e.getCurrentTokenRow(),t.end.column=e.getCurrentTokenColumn()+n.value.length,e.stepForward(),t}while(n=e.stepForward());return null},this._readTagBackward=function(e){var t,n=e.getCurrentToken();if(!n)return null;t=new o;do{if(r(n,"tag-open"))return t.closing=r(n,"end-tag-open"),t.start.row=e.getCurrentTokenRow(),t.start.column=e.getCurrentTokenColumn(),e.stepBackward(),t;r(n,"tag-name")?t.tagName=n.value:r(n,"tag-close")&&(t.selfClosing="/>"==n.value,t.end.row=e.getCurrentTokenRow(),t.end.column=e.getCurrentTokenColumn()+n.value.length)}while(n=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(t&&n.tagName!=t.tagName){if(this.optionalEndTags.hasOwnProperty(n.tagName)){e.pop();continue}return null}return e.pop()}},this.getFoldWidgetRange=function(e,t,n){var r,o,a,l,s,g=this._getFirstTagInLine(e,n);if(!g)return this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length);if(r=[],g.closing||g.selfClosing)for(a=new u(e,n,g.end.column),s={row:n,column:g.start.column};o=this._readTagBackward(a);){if(o.selfClosing){if(r.length)continue;return o.start.column+=o.tagName.length+2,o.end.column-=2,i.fromPoints(o.start,o.end)}if(o.closing)r.push(o);else if(this._pop(r,o),0==r.length)return o.start.column+=o.tagName.length+2,o.start.row==o.end.row&&o.start.column<o.end.column&&(o.start.column=o.end.column),i.fromPoints(o.start,s)}else for(a=new u(e,n,g.start.column),l={row:n,column:g.start.column+g.tagName.length+2},g.start.row==g.end.row&&(l.column=g.end.column);o=this._readTagForward(a);){if(o.selfClosing){if(r.length)continue;return o.start.column+=o.tagName.length+2,o.end.column-=2,i.fromPoints(o.start,o.end)}if(o.closing){if(this._pop(r,o),0==r.length)return i.fromPoints(l,o.start)}else r.push(o)}}}.call(s.prototype)})),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],(function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("../lib/lang"),a=e("./text").Mode,i=e("./xml_highlight_rules").XmlHighlightRules,l=e("./behaviour/xml").XmlBehaviour,u=e("./folding/xml").FoldMode,s=e("../worker/worker_client").WorkerClient,g=function(){this.HighlightRules=i,this.$behaviour=new l,this.foldingRules=new u};r.inherits(g,a),function(){this.voidElements=o.arrayToMap([]),this.blockComment={start:"\x3c!--",end:"--\x3e"},this.createWorker=function(e){var t=new s(["ace"],"ace/mode/xml_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("error",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/xml"}.call(g.prototype),t.Mode=g})),ace.require(["ace/mode/xml"],(function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)}));