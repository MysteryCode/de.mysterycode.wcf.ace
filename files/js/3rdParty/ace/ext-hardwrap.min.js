ace.define("ace/ext/hardwrap",["require","exports","module","ace/range","ace/editor","ace/config"],(function(e,t,n){"use strict";function r(e,t){function n(e,t,n){var r,o,a,s,i,l;if(!(e.length<t))return r=e.slice(0,t),o=e.slice(t),a=/^(?:(\s+)|(\S+)(\s+))/.exec(o),i=0,l=0,(s=/(?:(\s+)|(\s+)(\S+))$/.exec(r))&&!s[2]&&(i=t-s[1].length,l=t),a&&!a[2]&&(i||(i=t),l=t+a[1].length),i?{start:i,end:l}:s&&s[2]&&s.index>n?{start:s.index,end:s.index+s[2].length}:a&&a[2]?{start:i=t+a[2].length,end:i+a[3].length}:void 0}for(var r,o,s,i,l,c,d,g,h=t.column||e.getOption("printMarginColumn"),u=0!=t.allowMerge,f=Math.min(t.startRow,t.endRow),p=Math.max(t.startRow,t.endRow),m=e.session;f<=p;)(r=m.getLine(f)).length>h?((o=n(r,h,5))&&(s=/^\s*/.exec(r)[0],m.replace(new a(f,o.start,f,o.end),"\n"+s)),p++):u&&/\S/.test(r)&&f!=p&&(i=m.getLine(f+1))&&/\S/.test(i)&&((o=n(d=(l=r.replace(/\s+$/,""))+" "+(c=i.replace(/^\s+/,"")),h,5))&&o.start>l.length||d.length<h?(g=new a(f,l.length,f+1,i.length-c.length),m.replace(g," "),f--,p--):l.length<r.length&&m.remove(new a(f,l.length,f,r.length))),f++}function o(e){var t,n,o;if("insertstring"==e.command.name&&/\S/.test(e.args)){if((n=(t=e.editor).selection.cursor).column<=t.renderer.$printMarginColumn)return;o=t.session.$undoManager.$lastDelta,r(t,{startRow:n.row,endRow:n.row,allowMerge:!1}),o!=t.session.$undoManager.$lastDelta&&t.session.markUndoGroup()}}var a=e("../range").Range,s=e("../editor").Editor;e("../config").defineOptions(s.prototype,"editor",{hardWrap:{set:function(e){e?this.commands.on("afterExec",o):this.commands.off("afterExec",o)},value:!1}}),t.hardWrap=r})),ace.require(["ace/ext/hardwrap"],(function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)}));